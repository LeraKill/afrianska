function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));const iconMenu=document.querySelector(".menu__icon"),menuBody=document.querySelector(".menu__body");iconMenu&&iconMenu.addEventListener("click",(function(e){document.body.classList.toggle("_lock"),iconMenu.classList.toggle("_active"),menuBody.classList.toggle("_active")}));const menuLinks=document.querySelectorAll("a[data-goto]");if(menuLinks.length>0){function OnMenuLinkClick(e){const t=e.target;if(t.dataset.goto&&document.querySelector(t.dataset.goto)){e.preventDefault();const o=document.querySelector(t.dataset.goto).getBoundingClientRect().top+pageYOffset-document.querySelector("header").offsetHeight;window.scrollTo({top:o,behavior:"smooth"}),iconMenu.classList.contains("_active")&&(document.body.classList.remove("_lock"),iconMenu.classList.remove("_active"),menuBody.classList.remove("_active"))}}menuLinks.forEach((e=>{e.addEventListener("click",OnMenuLinkClick)}))}const animItems=document.querySelectorAll("._anim-items");if(animItems.length>0){function animForScroll(e){for(let e=0;e<animItems.length;e++){const t=animItems[e],o=t.offsetHeight,n=offset(t).top,s=20;let c=window.innerHeight-o/s;o>window.innerHeight&&(c=window.innerHeight-window.innerHeight/s),pageYOffset>n-c-document.querySelector("header").offsetHeight&&pageYOffset<n+o+document.querySelector("header").offsetHeight?t.classList.add("_animate"):t.classList.remove("_animate")}}function offset(e){const t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+o}}window.addEventListener("scroll",animForScroll),animForScroll()}let popup=document.querySelector(".popup"),popupBody=document.querySelector(".popup__body"),openPopupButtons=document.querySelectorAll(".open-popup"),closePopupButton=document.querySelector(".close-popup");openPopupButtons.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),popup.classList.add("open"),document.body.classList.add("_lock")}))})),closePopupButton.addEventListener("click",(e=>{e.preventDefault(),popup.classList.remove("open"),document.body.classList.remove("_lock")})),document.addEventListener("click",(e=>{e.target===popupBody&&(popup.classList.remove("open"),document.body.classList.remove("_lock"))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form"),t=document.querySelector(".popup__content");function o(){document.querySelector(".popup-success").classList.remove("open"),document.body.classList.remove("_lock")}e.addEventListener("submit",(async function(n){n.preventDefault();let s=function(e){let t=!0;const o=document.getElementsByClassName("validation-error");for(;o.length>0;)o[0].parentNode.removeChild(o[0]);document.getElementById("name").value||(document.querySelector(".error-name").innerHTML+=' <span class="validation-error">Enter your name</span>',t=!1);const n=document.getElementById("email");if(n.value){/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(n.value).toLowerCase())||(document.querySelector(".error-email").innerHTML+=' <span class="validation-error">Incorrect email</span>',t=!1)}else document.querySelector(".error-email").innerHTML+='<span class="validation-error">Enter your email</span>',t=!1;return t}(),c=new FormData(e);if(!0===s){t.classList.add("_sending");let n="http://localhost:8080/index.php";if((await fetch(n,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:c})).ok){let n=document.querySelector(".popup-success");popup.classList.remove("open"),n.classList.add("open"),document.body.classList.add("_lock"),setTimeout(o,2e3),e.reset(),t.classList.remove("_sending")}else document.querySelector(".error").innerHTML+=' <span class="validation-error">Произошла ошибка при отправке формы</span>',t.classList.remove("_sending")}}))}));